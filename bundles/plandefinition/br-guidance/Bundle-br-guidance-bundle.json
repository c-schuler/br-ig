{"resourceType":"Bundle","id":"br-guidance-bundle","type":"transaction","entry":[{"resource":{"resourceType":"PlanDefinition","id":"br-guidance","meta":{"profile":["http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-recommendationdefinition","http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-publishableplandefinition"]},"contained":[{"resourceType":"Library","id":"effective-data-requirements","name":"EffectiveDataRequirements","status":"active","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/library-type","code":"module-definition"}]},"parameter":[{"name":"Is Guidance Recommended?","use":"out","min":0,"max":"1","type":"boolean"}]}],"extension":[{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"HyperBiliRisk"},{"url":"name","valueString":"Is Guidance Recommended?"},{"url":"statement","valueString":"define \"Is Guidance Recommended?\":\n  true"},{"url":"displaySequence","valueInteger":0}]},{"id":"effective-data-requirements","url":"http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-effectiveDataRequirements","valueCanonical":"#effective-data-requirements"}],"url":"http://fhir.org/guides/example/bilirubin/PlanDefinition/br-guidance","version":"2022.1.0","name":"PlanDefinition_Bili_Rubin_Guidance","title":"Bili Rubin Guidance","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/plan-definition-type","code":"eca-rule","display":"ECA Rule"}]},"status":"draft","experimental":true,"date":"2025-09-14","publisher":"Some Publisher","description":"An example of CDS logic for BiliRubin guidance","jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"United States of America"}]}],"purpose":"Example for connectathon","usage":"CDS Hooks Sandbox testing","topic":[{"text":"BiliRubin Risk Guidance"}],"author":[{"name":"Matthew Wieler"},{"name":"Chris Schuler"}],"library":["http://fhir.org/guides/example/bilirubin/Library/HyperBiliRisk"],"action":[{"title":"This is the CDS Hooks card summary","description":"This is the CDS Hooks card detail","priority":"urgent","trigger":[{"type":"named-event","name":"patient-view"}],"condition":[{"kind":"applicability","expression":{"description":"Determine whether BiliRubin risk factors are present","language":"text/cql.identifier","expression":"Is Guidance Recommended?"}}]}]},"request":{"method":"PUT","url":"PlanDefinition/br-guidance"}},{"resource":{"resourceType":"Library","id":"HyperBiliRisk","contained":[{"resourceType":"Parameters","id":"options","parameter":[{"name":"translatorVersion","valueString":"3.22.0"},{"name":"option","valueString":"EnableAnnotations"},{"name":"option","valueString":"EnableLocators"},{"name":"option","valueString":"DisableListDemotion"},{"name":"option","valueString":"DisableListPromotion"},{"name":"format","valueString":"XML"},{"name":"analyzeDataRequirements","valueBoolean":false},{"name":"collapseDataRequirements","valueBoolean":false},{"name":"compatibilityLevel","valueString":"1.5"},{"name":"enableCqlOnly","valueBoolean":false},{"name":"errorLevel","valueString":"Info"},{"name":"signatureLevel","valueString":"Overloads"},{"name":"validateUnits","valueBoolean":true},{"name":"verifyOnly","valueBoolean":false}]}],"extension":[{"url":"http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions","valueReference":{"reference":"#options"}}],"url":"http://fhir.org/guides/example/bilirubin/Library/HyperBiliRisk","version":"1.0","name":"HyperBiliRisk","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/library-type","code":"logic-library"}]},"content":[{"contentType":"text/cql","data":"bGlicmFyeSAiSHlwZXJCaWxpUmlzayIgdmVyc2lvbiAnMS4wJwoKdXNpbmcgRkhJUiB2ZXJzaW9uICc0LjAuMScKCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnNC4wLjEnIGNhbGxlZCBGSElSSGVscGVycwoKY29kZXN5c3RlbSAiTE9JTkMiOiAnaHR0cDovL2xvaW5jLm9yZycKY29kZSAiVG90YWwgYmlsaXJ1YmluIjogJzE5NzUtMicgZnJvbSAiTE9JTkMiIGRpc3BsYXkgJ0JpbGlydWJpbi50b3RhbCBbTWFzcy92b2x1bWVdIGluIFNlcnVtIG9yIFBsYXNtYScKY29kZSAiRGlyZWN0IGJpbGlydWJpbiI6ICcxOTY4LTcnIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdCaWxpcnViaW4uZGlyZWN0IFtNYXNzL3ZvbHVtZV0gaW4gU2VydW0gb3IgUGxhc21hJwpjb2RlICJJbmRpcmVjdCBiaWxpcnViaW4iOiAnMTk3MS0xJyBmcm9tICJMT0lOQyIgZGlzcGxheSAnQmlsaXJ1YmluLmluZGlyZWN0IFtNYXNzL3ZvbHVtZV0gaW4gU2VydW0gb3IgUGxhc21hJwpjb2RlICJUY0IgKHNraW4pIGJpbGlydWJpbiI6ICc1ODk0MS02JyBmcm9tICJMT0lOQyIgZGlzcGxheSAnQmlsaXJ1YmluIFtNYXNzL3ZvbHVtZV0gaW4gU2tpbicKY29kZSAiR2VzdGF0aW9uYWwgYWdlIjogJzExODg0LTQnIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdHZXN0YXRpb25hbCBhZ2UgRXN0aW1hdGVkJwoKY29udGV4dCBQYXRpZW50CgpkZWZpbmUgIkJhYnkgQWdlIGluIEhvdXJzIjoKICBkaWZmZXJlbmNlIGluIGhvdXJzIGJldHdlZW4gUGF0aWVudC5iaXJ0aERhdGUgYW5kIChMYXRlc3RUb3RhbEJpbGkuZWZmZWN0aXZlIGFzIEZISVIuZGF0ZVRpbWUpCgpkZWZpbmUgIkdlc3RhdGlvbmFsIEFnZSBpbiBXZWVrcyI6CiAgRmlyc3QoW09ic2VydmF0aW9uOiBjb2RlIGluIHsgIkdlc3RhdGlvbmFsIGFnZSIgfV0gTwogICAgd2hlcmUgTy5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0KICAgICAgYW5kIE8udmFsdWUgaXMgUXVhbnRpdHkKICAgIHNvcnQgYnkgZWZmZWN0aXZlIGRlc2MKICApLnZhbHVlIGFzIFF1YW50aXR5CgpkZWZpbmUgIlBob3RvdGhlcmFweSBUaHJlc2hvbGQiOgogIGNhc2UKICAgIHdoZW4gIkdlc3RhdGlvbmFsIEFnZSBpbiBXZWVrcyIudmFsdWUgPCAzNSB0aGVuIG51bGwKICAgIGVsc2UKICAgICAgY2FzZQogICAgICAgIHdoZW4gIkJhYnkgQWdlIGluIEhvdXJzIiA8IDk2IHRoZW4gKDAuMTI1ICogIkJhYnkgQWdlIGluIEhvdXJzIikgKyAoNSArICgwLjUgKiAoIkdlc3RhdGlvbmFsIEFnZSBpbiBXZWVrcyIudmFsdWUgLSAzNSkpKQogICAgICAgIGVsc2UgMTcgKyAoMC41ICogKCJHZXN0YXRpb25hbCBBZ2UgaW4gV2Vla3MiLnZhbHVlIC0gMzUpKQogICAgICBlbmQKICBlbmQKCmRlZmluZSAiSXMgR3VpZGFuY2UgUmVjb21tZW5kZWQ/IjoKICAiUGhvdG90aGVyYXB5IFRocmVzaG9sZCIgaXMgbm90IG51bGwgYW5kIChMYXRlc3RUb3RhbEJpbGkudmFsdWUgYXMgUXVhbnRpdHkpLnZhbHVlID4gIlBob3RvdGhlcmFweSBUaHJlc2hvbGQiCgpkZWZpbmUgIkRldGVybWluZSBTY29yZSI6CiAgY2FzZQogICAgd2hlbiAiR2VzdGF0aW9uYWwgQWdlIGluIFdlZWtzIi52YWx1ZSA8IDM1IHRoZW4gJ2d1aWRhbmNlIG5vdCBhcHBsaWNhYmxlIGZvciA8MzUgd2Vla3MgZ2VzdGF0aW9uJwogICAgd2hlbiAiSXMgR3VpZGFuY2UgUmVjb21tZW5kZWQ/IiB0aGVuICdwaG90b3RoZXJhcHkgcmVjb21tZW5kZWQnCiAgICBlbHNlICdubyBzcGVjaWZpYyByZWNvbW1lbmRhdGlvbicKICBlbmQKCmRlZmluZSBUb3RhbEJpbGlPYnM6CiAgW09ic2VydmF0aW9uOiBjb2RlIGluIHsgIlRvdGFsIGJpbGlydWJpbiIgfV0gTwogICAgd2hlcmUgTy5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0KICAgICAgYW5kIE8udmFsdWUgaXMgUXVhbnRpdHkKCmRlZmluZSBEaXJlY3RCaWxpT2JzOgogIFtPYnNlcnZhdGlvbjogY29kZSBpbiB7ICJEaXJlY3QgYmlsaXJ1YmluIiB9XSBPCiAgICB3aGVyZSBPLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQogICAgICBhbmQgTy52YWx1ZSBpcyBRdWFudGl0eQoKZGVmaW5lIEluZGlyZWN0QmlsaU9iczoKICBbT2JzZXJ2YXRpb246IGNvZGUgaW4geyAiSW5kaXJlY3QgYmlsaXJ1YmluIiB9XSBPCiAgICB3aGVyZSBPLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQogICAgICBhbmQgTy52YWx1ZSBpcyBRdWFudGl0eQoKZGVmaW5lIExhdGVzdFRvdGFsQmlsaTogRmlyc3QoIFRvdGFsQmlsaU9icyBPIHNvcnQgYnkgZWZmZWN0aXZlIGRlc2MgKQpkZWZpbmUgTGF0ZXN0RGlyZWN0QmlsaTogRmlyc3QoIERpcmVjdEJpbGlPYnMgTyBzb3J0IGJ5IGVmZmVjdGl2ZSBkZXNjICkKZGVmaW5lIExhdGVzdEluZGlyZWN0QmlsaTogRmlyc3QoIEluZGlyZWN0QmlsaU9icyBPIHNvcnQgYnkgZWZmZWN0aXZlIGRlc2MgKQ=="}]},"request":{"method":"PUT","url":"Library/HyperBiliRisk"}}]}